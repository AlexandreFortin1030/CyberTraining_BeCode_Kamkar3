#####################################################################
################# Crafting my own monitoring tool  ##################
#####################################################################


#-----> To complete this project, I had in mind both readability and security. 
# Therefore, if my table do not showcase all of the essential security values, 
# it is a choice to increase and ease the readability of the curated ones.



----------------------
### 1/ Hardware watch
----------------------
#-----> The hardware watch might not be a set of the most significant sign of malicious activity.
However, the following values may induct a low level of performance from the system, and thus 
less effective defence system as well as potential loss of data or productivity.


#--> CPU Usage:

cpuUsage=$(top -bn1 | awk '/Cpu/ { print $2}')


#--> RAM Usage:

memUsage=$(free -m | awk '/Mem/{print $3}')


#--> Disk Usage: 
The following command loops through all existing partitions on the target disk and give a value
of space usage for each of them.

partitions=$(df --output=target | tail -n +2)
    # Loop through each partition
for partition in $partitions; do
    # Get the disk usage percentage for the current partition
    diskUsage=$(df "$partition" --output=pcent | tail -n 1 | tr -d ' %')
    # Print the partition and its usage percentage
    echo "Disk Usage for $partition : $diskUsage%"
done


#--> System load:
System load is represented as a set of 3 values. Each of these values represent the load average
for the CPUs in the last minutes, the last 5 and the last 15 minutes. These values are to be understood
relating to the number of CPUs on the system. To get this information, one has to use the following
command: $lscpu | grep "^CPU(s):"
Which informs me that my machine has a total of 8 CPUs. Therefore, the values should not equal
or get higher that 8. It would otherwise mean that the system is overloaded with tasks compared to it's 
capabilities.
To get the three values mentioned higher, I'll use the following command:

$awk '{print $1, $2, $3}' /proc/loadavg

For readability reasons, and because we already display the cpu usage, I chose to only output the 
CPU load of the last 5 minutes. It will complement the value of CPU usage.



---------------------
### 2/ Failed logins  
---------------------
#-----> Under this second category, I'll show values related to failed login attempts.

#--> Sudo, Root and SSH attempts:
This part of the table monitors failed login attempts 

#--> Brute force Candidate:
If repeated failed logins are recorded and originate from the same IP address, it will be displayed in this section
as it could be a brute force attempt.


----------------
### 3/ Sessions  
----------------
#--> This part monitors in real time the opened sessison on the system.
The aim here is to keep an eye on which are the active session.


---------------
### 4/ Network  
---------------
#-----> In this part I am displaying some of the essentials about networking.

#--> Open ports and running servcies
Getting in a very quick how many ports are listening and which serrvice is involved.

#--> Transmitted and received data
This values give and idea of the daily data fluxes on the system and can help diagnose or prevent network or security problems.

------------------------
### 5/ Visual appearance
------------------------
#-----> The visual appearance of the program may seem a bit too light hearted and playfull compared to it's initial aim.
It is in fact a statement, as I do believe that colors and playfull ambiances help keep the attention of viewers higher than
"serious" aesthetics that somehow look all the same and often overwhelming.It might in the end not be a success, but this tool
tries to influence people to look at it more that if it were any of the regular ones.

















### Linux ###
#--> $top // $htop // $ps aux --sort=-%mem | head -n 10 (list top 10 processes by memory usage)

### macOs ###
#--> Using Activity monitor or the following commands:
# $top -o mem // $ps aux | sort -nrk 4,4 | head -n 10 (same as higher)

### Windows ###
#--> Using task manager or the following commands:
# $Get-Process | Sort-Object -Property WorkingSet -Descending | Select-Object -First 10 Name, WorkingSet (Displays top 10 processes sorted by memory usage.)
# Using ressource monitor (Win+R, and type "resmon") and go to the memory tab.


-------------------------------------------------------------------------------
### 3/ What are log files? Where can you find them on a typical Linux system ?
-------------------------------------------------------------------------------

#--> Log files are text files that record events, activities and messages generated by the operating system, applications, or services. They are crutial for monitoring, troubleshooting, and auditing system behavior. Logs capture errors, warnings, system messages, security events and more.

#--> Addresses:
/var/log/syslog or /var/log/messages  (general system messages)
/var/log/auth.log or /var/log/secure (authentication and authorization logs)
/var/log/dmesg (kernel and boot related messages)
/var/log/apt/ (logs related to package installation, on debian based systems)
/var/log/httpd/ or /var/log/nginx/ (web server logs if apache or nginx)

#--> Commands:
$cat (exibits the log file) $tail (see only the last x of the log file)


---------------------------------------------------------------------------------------------
### 4/ How can you check who where the last connected users, what they did, when they left ?
---------------------------------------------------------------------------------------------

#--> $last (outputs username, terminal used, ip address if remote login, login time, session duration, logout time)

#--> $w (This command shows who's currently logged-in, their login times and terminal if being used)

#--> $who (shows a lit of currently logged-in users, their login time and terminal)

#--> $lastlog (shows last login time for all users)


-----------------------------------------------------------------------------
### 5/What are the different metrics of health and performance of a system ? 
-----------------------------------------------------------------------------
#--> CPU usage
Metric: %
Concern: High CPU usage can indicate overloading or inefficient processes.
#--> Memory usage
Metric: %
Concern: High memory usage or memory leaks can cause slowdowns or crashes.
#--> Disk usage
Metric: % and read/write speeds.
Concern: Low disk space or slow performances can degrade syste performance.
#--> Network utilization
Metric: incoming and outcoming network traffic, bandwidth usage.
Concern: hig traffic or latency can indicate congestion or bottlenecks.
#--> System load
Metric: number of processes in queue
Concern: high load average can suggest the system is overloaded
#--> Disk I/O
Metric: read/write operation per seconds, latency.
Concern:high disk I/O or slow access time
#--> Process status
Metric: list of active processes and their ressourc consumption
Concern: unnecessary or malfunctioning processes consuming ressources.
#--> Temperature
Metric: CPU and system teperature
Concern: Overheating can drain performance and cause damages to harware components.


-------------------------------------------------------------------
### 6/ How can you check the uptime of a machine ?
-------------------------------------------------------------------

#--> The uptime designates the time a system has been running since last reboot. To get the uptime on a linux machine one can use the following commands:
# $uptime (outputs the uptime, curret time, number of users and load average)
# $top (the uptime is displyed in the first line)
# $ cat /proc/uptime (this will show the uptime in seconds, with the first value beeing the uptime and the scond beeing th idle time)


-------------------------------------------------------------------
### 7/ How can you asses the network traffic?
-------------------------------------------------------------------

#--> There are many ways to asses network traffic such as:
$iftop (real time network monitoring)
$nload (incoming and outgoing traffic in real time)
$netstat (network statistics) $netstat -tuln
$tcpdump (packet capture) $tcpdump -i eth0 ()replace eth0 with your interface)
$bandwidthd (traffic monitoring)
#--> If these tools are not preinstalled on your machine, use $sudo apt install --tool--





Is firewall (ufw) status.
